# This file is sourced for interactive shells only (both login and non-login)
# It is sourced after .zshenv
# If this is a login shell, then .zprofile will be sourced directly before it
# and .zlogin will be sourced after

HISTFILE=~/.histfile
HISTSIZE=10000
SAVEHIST=10000

# Set prompt to vi mode 
bindkey -v

# Remember that fpath must be updated before compinit
fpath=(/usr/local/Cellar/zplug/2.4.2/repos/knu/zsh-manydots-magic $fpath)

zstyle :compinstall filename '$HOME/.zshrc'
autoload -Uz compinit
compinit

autoload -Uz manydots-magic
manydots-magic

export ZPLUG_HOME=/usr/local/opt/zplug
source $ZPLUG_HOME/init.zsh

# Lazy load nvm so it doesn't load when you open a new shell
export NVM_LAZY_LOAD=true

# Automatically switch to node version in local .nvmrc
export NVM_AUTO_USE=true

# Set options
source ~/.zsh/setopt.zsh

# Set aliases
source ~/.zsh/alias.zsh

# Prepend pyenv and rbenv shims to PATH, this is not done in 
# .zshenv as .zshenv is sourced first, so we would not be
# able to guarantee that the shims are first on the PATH
if command -v pyenv 1>/dev/null 2>&1; then
  eval "$(pyenv init -)"
  eval "$(pyenv virtualenv-init -)"
fi

if command -v rbenv 1>/dev/null 2>&1; then
  eval "$(rbenv init -)"
fi


# Load plugins with zplug
source ~/.zsh/plugins.zsh



if ! zplug check; then
    zplug install
fi
